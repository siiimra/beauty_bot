{% extends 'base.html' %}
{% block content %}

<a href="{{ url_for('home') }}" class="btn btn-outline-secondary mb-4">‚Üê Home</a>

<div class="alert alert-light text-center">
  Ô∏µ‚ÄøÔ∏µ‚Äø‡≠®‚ô°‡≠ß‚ÄøÔ∏µ‚ÄøÔ∏µ
</div>

<form method="POST" class="bg-white p-4 shadow-sm rounded" style="max-width: 800px; margin: auto;">

  {% if previous_answers %}
  <div class="alert alert-info text-center">
    We've pre-filled your last quiz answers! Feel free to update them üíñ
  </div>
  {% endif %}

  <!-- Skin Type -->
  <h5 class="mt-4 mb-3">Step 1: What's your skin type?</h5>
  <div class="btn-group d-flex flex-wrap mb-4" role="group">
    {% for value in ['Oily', 'Dry', 'Combination', 'Normal', 'Sensitive'] %}
      {% set label = value.split(' ')[0] %}
      <input type="radio" class="btn-check" name="skin_type" id="skin_type_{{ label }}" value="{{ label }}"
        {% if previous_answers.skin_type == label %}checked{% endif %} required>
      <label class="btn btn-outline-dark me-2 mb-2" for="skin_type_{{ label }}">{{ value }}</label>
    {% endfor %}
  </div>

  <!-- Makeup Preferences -->
  <h5 class="mt-4 mb-3">Step 2: What are your makeup preferences?</h5>
  <div class="btn-group d-flex flex-wrap mb-4" role="group">
    {% for value in ['Natural', 'Bold'] %}
      {% set label = value.split(' ')[0] %}
      <input type="radio" class="btn-check" name="makeup_pref" id="makeup_{{ label }}" value="{{ label }}"
        {% if previous_answers.makeup_pref == label %}checked{% endif %} required>
      <label class="btn btn-outline-dark me-2 mb-2" for="makeup_{{ label }}">{{ value }}</label>
    {% endfor %}
  </div>

  <!-- Finish -->
  <h5 class="mt-4 mb-3">Step 3: What base finish do you prefer? <span data-bs-toggle="tooltip" title="Finish refers to how your makeup looks ‚Äì shiny (dewy) or matte (flat).">‚ùì</span></h5>
  <div class="btn-group d-flex flex-wrap mb-4" role="group">
    {% for value in ['Dewy', 'Matte'] %}
      {% set label = value.split(' ')[0] %}
      <input type="radio" class="btn-check" name="finish" id="finish_{{ label }}" value="{{ label }}"
        {% if previous_answers.get('finish') == label %}checked{% endif %} required>
      <label class="btn btn-outline-dark me-2 mb-2" for="finish_{{ label }}">{{ value }}</label>
    {% endfor %}
  </div>

  <!-- Concerns -->
  <h5 class="mt-4 mb-3">Step 4: Do you have any skin concerns?</h5>
  <div class="btn-group d-flex flex-wrap mb-4" role="group">
    {% for value in ['Acne', 'Redness', 'Dryness', 'Oiliness'] %}
      <input type="checkbox" class="btn-check" name="concerns" id="concern_{{ value }}" value="{{ value }}"
        {% if value in previous_answers.concerns %}checked{% endif %}>
      <label class="btn btn-outline-dark me-2 mb-2" for="concern_{{ value }}">{{ value }}</label>
    {% endfor %}
  </div>

  <!-- Price Range -->
  <h5 class="mt-4 mb-3">Step 5: What is your preferred price range?</h5>
  <div class="btn-group d-flex flex-wrap mb-4" role="group">
    {% for value in ['High-end', 'Drugstore', 'Both'] %}
      {% set label = value.split(' ')[0] %}
      <input type="radio" class="btn-check" name="price_range" id="price_{{ label }}" value="{{ label }}"
        {% if previous_answers.get('price_range') == label %}checked{% endif %} required>
      <label class="btn btn-outline-dark me-2 mb-2" for="price_{{ label }}">{{ value }}</label>
    {% endfor %}
  </div>

  <div class="text-center mt-4">
    <button type="submit" class="btn btn-dark btn-lg">‚ú® Get Recommendations</button>
  </div>
</form>

{% endblock %}
